<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta
      content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"
      name="viewport"
    />
    <meta name="robots" content="noindex nofollow" />
    <title>SJMPOS - Restora</title>
    <!-- General CSS Files -->
    <link rel="stylesheet" href="/fonts/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="/lib/jquery-confirm/jquery-confirm.min.css" />
    <link rel="stylesheet" href="/lib/izitoast/css/iziToast.min.css" />

    <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="/lib/bootstrap/dist/css/bootstrap-select.min.css"
    />

    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="/css/site.css?v=QYu-_94UzCtXG2SuLXPXajMHP7i8ChLwfyJL2qmt8zo"
    />
    <link
      rel="stylesheet"
      href="/css/spinnermix.css?v=KwH6596ITYd1BpR8rGi3vIy6zHd5POlC2ajNSWOPrWM"
    />

    <!-- Favicon and Touch Icons -->
    <link rel="shortcut icon" href="/uploads/SelfOrderFeast-favicon.png" />
    <link
      rel="icon"
      type="image/png"
      href="/uploads/SelfOrderFeast-favicon.png"
      sizes="192x192"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/uploads/SelfOrderFeast-favicon.png"
    />
  </head>

  <body class="theme-10">
    <div id="app">
      <div class="main-wrapper">
        <div class="light" id="navbar">
          <!--top navbar start-->
          <div class="navbar-bg"></div>
          <nav class="navbar navbar-expand-lg main-navbar sticky pos-navbar">
            <!-- Left -->
            <div class="navbar-nav navbar-brand d-none d-md-flex me-auto">
              <a href="/">
                <img alt="image" src="/uploads/SelfOrderFeast-logo.png" />
              </a>
            </div>
            <!-- ?? -->
            <ul class="navbar-nav d-lg-none">
              <li class="dropdown">
                <div
                  class="top-icon dropdown-toggle no-carret"
                  id="posMenuDropDown"
                  data-bs-toggle="dropdown"
                >
                  <a class="nav-link" href="#">
                    <i class="fas fa-bars"></i>
                  </a>
                </div>
                <div
                  class="dropdown-menu pullDown ms-2"
                  aria-labelledby="posMenuDropDown"
                >
                  <a class="dropdown-item has-icon" href="/">
                    <i class="fas fa-home"></i> Dashboard
                  </a>
                  <a class="dropdown-item has-icon" href="/POS">
                    <i class="fas fa-store"></i> POS
                  </a>
                  <a class="dropdown-item has-icon" href="/POS/Kitchen">
                    <i class="fas fa-desktop"></i> Kitchen
                  </a>
                  <a class="dropdown-item has-icon" href="/WorkPeriod">
                    <i class="fas fa-cash-register"></i> Register
                  </a>
                  <a class="dropdown-item has-icon" href="/POS/OrderHistory">
                    <i class="fas fa-list"></i> Order History
                  </a>
                </div>
              </li>
            </ul>
            <!-- Middle -->

            <ul class="navbar-nav d-none d-lg-inline-block ms-2 menu">
              <li>
                <a href="/">
                  <div class="buttons pt-2 ps-2" id="cartActions">
                    <i class="fas fa-home"></i> Dashboard
                    <!-- <a><i class="fas fa-sliders-h"></i> Modifiers</a> -->
                  </div>
                </a>
              </li>
            </ul>

            <!-- Right -->
            <ul class="navbar-nav ms-auto">
              <!-- NEW-->
              <!-- Right Account-->
              <li class="dropdown">
                <a
                  href="#"
                  id="accountDropDown"
                  class="nav-link dropdown-toggle nav-link-lg nav-link-user me-2"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <img alt="image" src="/uploads/user.gif" class="avatar" />
                  <span class="username d-none d-md-inline"
                    >My Account <i class="fa fa-chevron-down"></i
                  ></span>
                </a>
                <div
                  class="dropdown-menu dropdown-menu-end pullDown"
                  aria-labelledby="accountDropDown"
                >
                  <div class="dropdown-title">Administrator</div>
                  <a
                    class="dropdown-item has-icon"
                    href="/Account/ChangePassword"
                  >
                    <i class="fas fa-cog"></i>
                    Change Password
                  </a>
                  <a
                    class="dropdown-item has-icon text-danger"
                    href="/Account/LogOut"
                  >
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                  </a>
                </div>
              </li>
            </ul>
          </nav>
        </div>
        <!--top navbar end-->

        <div class="pos-main">
          <nav class="top-nav" style="margin-top: 71px; margin-bottom: 3px">
            <div class="row g-0">
              <div class="col-12">
                <!--Top Line 2-->
                <ul class="list-items" id="topBtns">
                  <li
                    class="item"
                    id="orderBtn"
                    onclick="OpenOrderModel();"
                    style="border-left: 1px solid #e6e8e6"
                  >
                    <i class="fas fa-circle-notch"></i>
                    <span>Orders</span>
                  </li>

                  <li class="item" onclick="OpenNoteModel();">
                    <i class="fas fa-message"></i>
                    <span>Note</span>
                  </li>

                  <li class="dropdown item">
                    <a
                      href="#"
                      id="accountDropDown1"
                      class="dropdown-toggle nav-link-lg nav-link-user me-2"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      <!-- <img
                        style="width: 25px; height: 25px"
                        alt="image"
                        src="/uploads/order.gif"
                        class="avatar"
                      /> -->
                      <i class="fa fa-chevron-down"></i>
                      <div class="username d-none d-md-inline">New</div>
                    </a>
                    <div
                      class="dropdown-menu dropdown-menu-end pullDown"
                      aria-labelledby="accountDropDown1"
                    >
                      <div class="dropdown-title">OrderType</div>

                      <a
                        class="dropdown-item has-icon"
                        id="dineInBtn"
                        onclick="SetDineInOrder();"
                      >
                        <i class="fas fa-store"></i>
                        Dine In
                      </a>
                      <a
                        class="dropdown-item has-icon"
                        id="pickUpBtn"
                        onclick="SetPickUpOrder();"
                      >
                        <i class="fas fa-person-walking"></i>
                        <span>Pick Up</span>
                      </a>
                      <a
                        class="dropdown-item has-icon"
                        id="deliveryBtn"
                        onclick="SetDeliveryOrder();"
                      >
                        <i class="fas fa-truck"></i>
                        <span>Delivery</span>
                      </a>
                    </div>
                  </li>
                  <!-- Right Orders-->
                  <li class="dropdown item">
                    <a
                      href="#"
                      id="accountDropDown3"
                      class="dropdown-toggle nav-link-lg nav-link-user me-2"
                      data-bs-toggle="dropdown"
                      aria-expanded="true"
                    >
                      <!-- <img
                        alt="image"
                        src="/uploads/send-101-animated-gif-icons.gif"
                        class="avatar"
                      /> -->
                      <i class="fa fa-chevron-down"></i>
                      <span class="username d-none d-md-inline">Orders</span>
                    </a>
                    <div
                      class="dropdown-menu dropdown-menu-end pullDown"
                      aria-labelledby="accountDropDown3"
                    >
                      <a
                        class="dropdown-item has-icon"
                        id="paymentBtn"
                        onclick="OpenPaymentModel();"
                      >
                        <i class="fas fa-money-bill"></i>
                        <span>Payment</span>
                      </a>
                      <a
                        class="dropdown-item has-icon"
                        id="submitKotBtn"
                        onclick="SubmitOrder(2);"
                      >
                        <i class="fas fa-save"></i>
                        <span>KOT Print</span>
                      </a>
                      <a
                        class="dropdown-item has-icon"
                        id="submitBillBtn"
                        onclick="SubmitOrder(3);"
                      >
                        <i class="fas fa-save"></i>
                        <span>BILL Print</span>
                      </a>
                      <a
                        class="dropdown-item has-icon"
                        id="submitBtn"
                        onclick="SubmitOrder(1);"
                      >
                        <i class="fas fa-save"></i>
                        <span>Submit</span>
                      </a>
                    </div>
                  </li>
                  <!-- Right Updates-->
                  <li class="dropdown item">
                    <a
                      href="#"
                      id="accountDropDown2"
                      class="dropdown-toggle nav-link-lg nav-link-user me-2"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      <!-- <img
                        alt="image"
                        src="/uploads/giphy.gif"
                        class="avatar"
                      /> --><i class="fa fa-chevron-down"></i>
                      <span class="username d-none d-md-inline"> Updates </span>
                    </a>
                    <div
                      class="dropdown-menu dropdown-menu-end pullDown"
                      aria-labelledby="accountDropDown2"
                    >
                      <a
                        class="dropdown-item has-icon"
                        id="resetBtn"
                        onclick="ResetControls();"
                      >
                        <i class="fas fa-rotate-right"></i>
                        <span>Reset</span>
                      </a>
                      <a
                        class="dropdown-item has-icon"
                        id="resetBtn"
                        onclick="ReloadData();"
                      >
                        <i class="fas fa-spinner"></i>
                        <span>Reload</span>
                      </a>
                    </div>
                  </li>

                  <li
                    class="item item-blank"
                    style="border-right: 1px solid #cccc"
                  ></li>

                  <a
                    href="javascript:void(0);"
                    onclick="OpenGuestModel();"
                    class="btn btn-icon icon-left dineinOption d-none"
                  >
                    <i class="fas fa-users"></i>
                    <span id="d-Guest">Guest</span>
                    <i class="fas fa-edit"></i>
                  </a>

                  <a
                    href="javascript:void(0);"
                    onclick="OpenTableModel();"
                    class="btn btn-icon icon-left dineinOption d-none"
                  >
                    <i class="fa table-white"></i
                    ><span id="d-TableName">Select Table</span>
                    <i class="fas fa-edit"></i>
                  </a>
                  <a
                    href="javascript:void(0);"
                    onclick="OpenWaiterModel();"
                    class="btn btn-icon icon-left waiterOption d-none"
                  >
                    <i class="fas fa-building-user"></i
                    ><span id="d-Waiter">Select Waiter</span>
                    <i class="fas fa-edit"></i>
                  </a>

                  <a
                    href="javascript:void(0);"
                    onclick="OpenDeliveryManModel();"
                    class="btn btn-icon icon-left deliveryOption d-none"
                  >
                    <i class="fas fa-building-user"></i
                    ><span id="d-DeliveryMan">Select Driver</span>
                    <i class="fas fa-edit"></i>
                  </a>
                  <a
                    href="javascript:void(0);"
                    onclick="OpenCustomerModel();"
                    class="btn btn-icon icon-left"
                  >
                    <i class="fas fa-user"></i
                    ><span id="d-Customer">Cash Customer</span>
                    <i class="fas fa-edit"></i>
                  </a>
                </ul>
              </div>
            </div>
          </nav>

          <!--Left Order List-->
          <div class="pos p-2">
            <div class="row g-2">
              <div class="pos-left col-xxl-4 col-lg-5 col-12">
                <div class="card mb-0">
                  <div class="card-header bg-primary p-2">
                    <div class="order-header-btns">
                      <a class="btn btn-icon icon-left">
                        <i class="fas fa-hashtag"></i>
                        <span id="d-OrderId">Order Id</span>
                      </a>
                    </div>
                  </div>
                  <div class="card-body p-0">
                    <div class="cart overflow-auto">
                      <div class="table-responsive">
                        <table class="table table-sm">
                          <thead>
                            <tr>
                              <th>Food Item</th>
                              <th class="text-center">Quantity</th>
                              <th class="text-end">Price</th>
                            </tr>
                          </thead>
                          <tbody class="cartItems" id="cartItems">
                            <div class="blank"></div>
                            <tr>
                              <th>Feed this from Order</th>
                              <th class="text-center">dd</th>
                              <th class="text-end">fasd</th>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div
                      class="buttons pt-2 ps-2 bg-whitesmoke"
                      id="cartActions"
                    >
                      <a
                        href="javascript:void(0);"
                        onclick="IncreaseQuantity();"
                        class="btn btn-primary disabled"
                      >
                        <i class="fas fa-plus"></i>
                      </a>
                      <a
                        href="javascript:void(0);"
                        onclick="DecreaseQuantity();"
                        id="decreaseBtn"
                        class="btn btn-primary disabled"
                      >
                        <i class="fas fa-minus"></i>
                      </a>
                      <a
                        href="javascript:void(0);"
                        onclick="DeleteItem();"
                        class="btn btn-danger disabled"
                      >
                        <i class="fas fa-trash"></i>
                      </a>
                      <a
                        href="javascript:void(0);"
                        onclick="OpenModifierModel();"
                        class="btn btn-dark disabled"
                        ><i class="fas fa-sliders-h"></i> Modifiers</a
                      >
                    </div>
                    <div class="calculation">
                      <table class="table table-bordered">
                        <tr>
                          <td>
                            Sub Total<br /><span id="d-SubTotal">$0</span>
                          </td>
                          <td class="clickable" onclick="OpenDiscountModel();">
                            Discount<br />
                            <span id="d-Discount"></span>
                            <i class="fas fa-edit"></i>
                          </td>
                          <td class="clickable" onclick="OpenChargeModel();">
                            Charge<br />
                            <span id="d-Charge"></span>
                            <i class="fas fa-edit"></i>
                          </td>
                        </tr>
                        <tr>
                          <td class="clickable" onclick="OpenTaxModel();">
                            Tax<br />
                            <span id="d-Tax"></span>
                            <i class="fas fa-edit"></i>
                          </td>
                          <td colspan="2">
                            Total<br /><span class="d-Total">$0</span>
                          </td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
              <div class="pos-right col-xxl-8 col-lg-7 col-12">
                <div class="card mb-0">
                  <div class="card-body p-2">
                    <div class="categories col-12" id="categories"></div>
                    <div class="input-group">
                      <input
                        type="text"
                        id="searchInput"
                        oninput="SearchItems();"
                        placeholder="Search by food name"
                        class="form-control"
                      />
                    </div>
                    <div class="products-block mt-3">
                      <div class="d-flex flex-wrap" id="products"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="modal language fade"
          id="LanguageModal"
          tabindex="-1"
          role="dialog"
        >
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button
                  type="button"
                  class="btn btn-light"
                  data-toggle="tooltip"
                  title="Back"
                  data-dismiss="modal"
                >
                  <i class="fas fa-chevron-left"></i>
                </button>
                <h5 class="modal-title">Change Language</h5>
                <span></span>
              </div>
              <div class="modal-body">
                <ul>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=cs-CZ&name=Czech (Czechia)&returnUrl=/POS"
                    >
                      <img src="/images/flags/CZ.svg" />
                      &#x10D;e&#x161;tina (&#x10C;esko)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=da-DK&name=Danish (Denmark)&returnUrl=/POS"
                    >
                      <img src="/images/flags/DK.svg" />
                      dansk (Danmark)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=de-DE&name=German (Germany)&returnUrl=/POS"
                    >
                      <img src="/images/flags/DE.svg" />
                      Deutsch (Deutschland)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=en-US&name=English (United States)&returnUrl=/POS"
                    >
                      <img src="/images/flags/US.svg" />
                      English (United States)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=es-ES&name=Spanish (Spain)&returnUrl=/POS"
                    >
                      <img src="/images/flags/ES.svg" />
                      espa&#xF1;ol (Espa&#xF1;a)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=fr-FR&name=French (France)&returnUrl=/POS"
                    >
                      <img src="/images/flags/FR.svg" />
                      fran&#xE7;ais (France)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=id-ID&name=Indonesian (Indonesia)&returnUrl=/POS"
                    >
                      <img src="/images/flags/ID.svg" />
                      Indonesia (Indonesia)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=it-IT&name=Italian (Italy)&returnUrl=/POS"
                    >
                      <img src="/images/flags/IT.svg" />
                      italiano (Italia)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=hu-HU&name=Hungarian (Hungary)&returnUrl=/POS"
                    >
                      <img src="/images/flags/HU.svg" />
                      magyar (Magyarorsz&#xE1;g)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=ms-MY&name=Malay (Malaysia)&returnUrl=/POS"
                    >
                      <img src="/images/flags/MY.svg" />
                      Melayu (Malaysia)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=nb-NO&name=Norwegian Bokm&#xE5;l (Norway)&returnUrl=/POS"
                    >
                      <img src="/images/flags/NO.svg" />
                      norsk bokm&#xE5;l (Norge)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=pl-PL&name=Polish (Poland)&returnUrl=/POS"
                    >
                      <img src="/images/flags/PL.svg" />
                      polski (Polska)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=pt-BR&name=Portuguese (Brazil)&returnUrl=/POS"
                    >
                      <img src="/images/flags/BR.svg" />
                      portugu&#xEA;s (Brasil)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=ro-RO&name=Romanian (Romania)&returnUrl=/POS"
                    >
                      <img src="/images/flags/RO.svg" />
                      rom&#xE2;n&#x103; (Rom&#xE2;nia)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=sq-AL&name=Albanian (Albania)&returnUrl=/POS"
                    >
                      <img src="/images/flags/AL.svg" />
                      shqip (Shqip&#xEB;ri)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=sv-SE&name=Swedish (Sweden)&returnUrl=/POS"
                    >
                      <img src="/images/flags/SE.svg" />
                      svenska (Sverige)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=vi-VN&name=Vietnamese (Vietnam)&returnUrl=/POS"
                    >
                      <img src="/images/flags/VN.svg" />
                      Ti&#x1EBF;ng Vi&#x1EC7;t (Vi&#x1EC7;t Nam)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=tr-TR&name=Turkish (Turkey)&returnUrl=/POS"
                    >
                      <img src="/images/flags/TR.svg" />
                      T&#xFC;rk&#xE7;e (T&#xFC;rkiye)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=el-GR&name=Greek (Greece)&returnUrl=/POS"
                    >
                      <img src="/images/flags/GR.svg" />
                      &#x395;&#x3BB;&#x3BB;&#x3B7;&#x3BD;&#x3B9;&#x3BA;&#x3AC;
                      (&#x395;&#x3BB;&#x3BB;&#x3AC;&#x3B4;&#x3B1;)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=ru-RU&name=Russian (Russia)&returnUrl=/POS"
                    >
                      <img src="/images/flags/RU.svg" />
                      &#x440;&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;
                      (&#x420;&#x43E;&#x441;&#x441;&#x438;&#x44F;)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=uk-UA&name=Ukrainian (Ukraine)&returnUrl=/POS"
                    >
                      <img src="/images/flags/UA.svg" />
                      &#x443;&#x43A;&#x440;&#x430;&#x457;&#x43D;&#x441;&#x44C;&#x43A;&#x430;
                      (&#x423;&#x43A;&#x440;&#x430;&#x457;&#x43D;&#x430;)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=ar-SA&name=Arabic (Saudi Arabia)&returnUrl=/POS"
                    >
                      <img src="/images/flags/SA.svg" />
                      &#x627;&#x644;&#x639;&#x631;&#x628;&#x64A;&#x629;
                      (&#x627;&#x644;&#x645;&#x645;&#x644;&#x643;&#x629;
                      &#x627;&#x644;&#x639;&#x631;&#x628;&#x64A;&#x629;
                      &#x627;&#x644;&#x633;&#x639;&#x648;&#x62F;&#x64A;&#x629;)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=th-TH&name=Thai (Thailand)&returnUrl=/POS"
                    >
                      <img src="/images/flags/TH.svg" />
                      &#xE44;&#xE17;&#xE22; (&#xE44;&#xE17;&#xE22;)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=ko-KR&name=Korean (Korea)&returnUrl=/POS"
                    >
                      <img src="/images/flags/KR.svg" />
                      &#xD55C;&#xAD6D;&#xC5B4;(&#xB300;&#xD55C;&#xBBFC;&#xAD6D;)
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=zh-Hans&name=Chinese (Simplified)&returnUrl=/POS"
                    >
                      <img src="/images/flags/cn.svg" />
                      &#x4E2D;&#x6587;&#xFF08;&#x7B80;&#x4F53;&#xFF09;
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=zh-Hant&name=Chinese (Traditional)&returnUrl=/POS"
                    >
                      <img src="/images/flags/cn.svg" />
                      &#x4E2D;&#x6587;&#xFF08;&#x7E41;&#x9AD4;&#xFF09;
                    </a>
                  </li>
                  <li>
                    <a
                      href="/Home/ChangeLanguage?culture=ja-JP&name=Japanese (Japan)&returnUrl=/POS"
                    >
                      <img src="/images/flags/JP.svg" />
                      &#x65E5;&#x672C;&#x8A9E; (&#x65E5;&#x672C;)
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!--Guest Model-->
        <div
          class="modal fade"
          id="GuestModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Guest</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="form-group p-0">
                    <input
                      type="text"
                      id="guestInput"
                      placeholder="0"
                      value="1"
                      class="form-control d-invtotal cleave-number"
                      inputmode="numeric"
                      readonly
                    />
                  </div>
                </form>
                <div class="numpad">
                  <div class="row g-0" id="guests">
                    <div class="col-4">
                      <div data-value="7" class="item">7</div>
                    </div>
                    <div class="col-4">
                      <div data-value="8" class="item">8</div>
                    </div>
                    <div class="col-4">
                      <div data-value="9" class="item">9</div>
                    </div>
                    <div class="col-4">
                      <div data-value="4" class="item">4</div>
                    </div>
                    <div class="col-4">
                      <div data-value="5" class="item">5</div>
                    </div>
                    <div class="col-4">
                      <div data-value="6" class="item">6</div>
                    </div>
                    <div class="col-4">
                      <div data-value="1" class="item">1</div>
                    </div>
                    <div class="col-4">
                      <div data-value="2" class="item">2</div>
                    </div>
                    <div class="col-4">
                      <div data-value="3" class="item">3</div>
                    </div>
                    <div class="col-8">
                      <div data-value="0" class="item">0</div>
                    </div>
                    <div class="col-4">
                      <div data-value="x" class="item">
                        <i class="fas fa-circle-xmark"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer bg-whitesmoke">
                <button
                  type="button"
                  onclick="EnterGuests();"
                  class="btn btn-primary"
                >
                  Enter
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!--Payment Model-->
        <div
          class="modal fade"
          id="PaymentModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Payment</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <table id="Payment" class="table table-bordered table-sm mb-4">
                  <tbody>
                    <tr>
                      <th>Total Amount</th>
                      <td class="d-OrderTotalAmount" colspan="2"></td>
                    </tr>
                    <tr>
                      <th>Due Amount</th>
                      <td class="d-OrderDueAmount" colspan="2"></td>
                    </tr>
                  </tbody>
                </table>
                <div class="form-group">
                  <label class="control-label">Payment Method</label>
                  <select
                    id="PaymentMethod"
                    name="PaymentMethod"
                    class="form-control selectpicker"
                  >
                    <option value="Cash">Cash</option>
                    <option value="Card">Card</option>
                  </select>
                </div>
                <div class="row">
                  <div class="col-md-6 form-group">
                    <label class="control-label">Amount</label>
                    <div class="input-group">
                      <div class="input-group-text">$</div>
                      <input
                        value=""
                        id="PaymentAmount"
                        name="PaymentAmount"
                        onkeyup="PaymentAmountChange();"
                        type="text"
                        class="form-control d-invtotal cleave-number"
                        inputmode="numeric"
                        disabled
                      />
                      <span
                        onclick="PickDueAmount();"
                        role="button"
                        class="input-group-text btn-outline-primary"
                        >Due</span
                      >
                    </div>
                  </div>
                  <div class="col-md-6 form-group">
                    <label class="control-label">SettleAmount</label>
                    <div class="input-group">
                      <div class="input-group-text">$</div>
                      <input
                        value=""
                        id="SettleAmount"
                        name="SettleAmount"
                        onkeyup="SettleAmountChange();"
                        type="text"
                        class="form-control d-invtotal cleave-number"
                        inputmode="numeric"
                        disabled
                      />
                      <span
                        onclick="PickSettleAmount();"
                        role="button"
                        class="input-group-text btn-outline-primary"
                        >Settle</span
                      >
                    </div>
                  </div>
                </div>
                <div class="row g-0">
                  <div class="col-12 col-md-8">
                    <div class="numpad">
                      <div class="row g-0" id="amounts">
                        <div class="col-4">
                          <div data-value="7" class="item">7</div>
                        </div>
                        <div class="col-4">
                          <div data-value="8" class="item">8</div>
                        </div>
                        <div class="col-4">
                          <div data-value="9" class="item">9</div>
                        </div>
                        <div class="col-4">
                          <div data-value="4" class="item">4</div>
                        </div>
                        <div class="col-4">
                          <div data-value="5" class="item">5</div>
                        </div>
                        <div class="col-4">
                          <div data-value="6" class="item">6</div>
                        </div>
                        <div class="col-4">
                          <div data-value="1" class="item">1</div>
                        </div>
                        <div class="col-4">
                          <div data-value="2" class="item">2</div>
                        </div>
                        <div class="col-4">
                          <div data-value="3" class="item">3</div>
                        </div>
                        <div class="col-4">
                          <div data-value="0" class="item">0</div>
                        </div>
                        <div class="col-4">
                          <div data-value="." class="item">.</div>
                        </div>
                        <div class="col-4">
                          <div data-value="x" class="item">
                            <i class="fas fa-circle-xmark"></i>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-12 col-md-4">
                    <div class="numpad">
                      <div class="row g-0" id="amountsPlus">
                        <div class="col-4 col-md-6">
                          <div data-value="5" class="item">+5</div>
                        </div>
                        <div class="col-4 col-md-6">
                          <div data-value="10" class="item">+10</div>
                        </div>
                        <div class="col-4 col-md-6">
                          <div data-value="50" class="item">+50</div>
                        </div>
                        <div class="col-4 col-md-6">
                          <div data-value="75" class="item">+75</div>
                        </div>
                        <div class="col-4 col-md-6">
                          <div data-value="100" class="item">+100</div>
                        </div>
                        <div class="col-4 col-md-6">
                          <div data-value="500" class="item">+500</div>
                        </div>
                        <div class="col-4 col-md-6">
                          <div data-value="1000" class="item">+1000</div>
                        </div>
                        <div class="col-4 col-md-6">
                          <div data-value="total" class="item">Total</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer bg-whitesmoke">
                <button
                  type="button"
                  id="closeOrderBtn"
                  onclick="CloseOrder();"
                  class="btn btn-primary"
                >
                  Print & Close
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!--Split Bill Model-->
        <div
          class="modal fade"
          id="SplitBillModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Split Bill</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <table class="table table-sm table-bordered">
                  <thead>
                    <tr>
                      <th></th>
                      <th>Food Item</th>
                      <th>Quantity</th>
                      <th>Price</th>
                    </tr>
                  </thead>
                  <tbody id="splitBillItems"></tbody>
                </table>
              </div>
              <div class="modal-footer bg-whitesmoke br">
                <button
                  type="button"
                  id="splitSubmitBtn"
                  onclick="SplitBill();"
                  class="btn btn-primary"
                >
                  Split Bill
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!--Tax Model-->
        <div class="modal fade" id="TaxModel" data-bs-backdrop="static">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Select Tax</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row g-3" id="taxes">
                  <div
                    class="col-6 col-md-4 item"
                    data-id="1"
                    data-value="5.00"
                    data-svalue="0.00"
                    data-cvalue="0.00"
                    data-isgst="False"
                    data-isincluded="False"
                    data-ispercentage="True"
                    data-isdinein="True"
                    data-ispickup="True"
                    data-isdelivery="True"
                    data-default="True"
                  >
                    <div class="card-box p-2 text-center">
                      <h2>Tax</h2>
                      <h2>VAT 5.00 %</h2>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Discount Model-->
        <div class="modal fade" id="DiscountModel" data-bs-backdrop="static">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Select Discount</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row g-3" id="discounts">
                  <div
                    class="col-6 col-md-4 item"
                    data-id="1"
                    data-value="0.00"
                    data-ispercentage="True"
                    data-isdinein="True"
                    data-ispickup="True"
                    data-isdelivery="True"
                    data-default="True"
                  >
                    <div class="card-box p-2 text-center">
                      <h2>NoN</h2>
                      <h2>0.00 %</h2>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Charges Model-->
        <div class="modal fade" id="ChargeModel" data-bs-backdrop="static">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Select Charge</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row g-3" id="charges">
                  <div
                    class="col-6 col-md-4 item"
                    data-id="1"
                    data-value="0.00"
                    data-ispercentage="False"
                    data-isdinein="True"
                    data-ispickup="True"
                    data-isdelivery="True"
                    data-default="True"
                  >
                    <div class="card-box p-2 text-center">
                      <h2>NoN</h2>
                      <h2>$0.00</h2>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Note Model-->
        <div
          class="modal fade"
          id="NoteModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Enter Note</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group">
                  <label class="control-label">Note</label>
                  <textarea id="noteInput" class="form-control"></textarea>
                </div>
              </div>
              <div class="modal-footer bg-whitesmoke br">
                <button
                  type="submit"
                  class="btn btn-primary"
                  onclick="EnterNote();"
                >
                  Enter
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!--Table Model-->
        <div
          class="modal fade"
          id="TableModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Select Table</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body" style="min-height: 300px">
                <div class="row g-2" id="tables"></div>
              </div>
            </div>
          </div>
        </div>

        <!--Customer Model-->
        <div
          class="modal fade"
          id="CustomerModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Customer</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <ul class="nav nav-tabs nav-primary" id="myTab" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link active"
                      id="newcustomer-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#newcustomer"
                      type="button"
                      role="tab"
                      aria-controls="newcustomer"
                      aria-selected="true"
                    >
                      Add Customer
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="customersearch-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#customersearch"
                      type="button"
                      role="tab"
                      aria-controls="customersearch"
                      aria-selected="false"
                    >
                      Search
                    </button>
                  </li>
                </ul>
                <div class="tab-content pt-2" id="myTabContent">
                  <div
                    class="tab-pane fade show active"
                    id="newcustomer"
                    role="tabpanel"
                    aria-labelledby="newcustomer-tab"
                  >
                    <form
                      id="customerfrm"
                      class="needs-validation"
                      novalidate=""
                    >
                      <div class="form-group">
                        <label class="control-label"
                          >Customer Name <code>*</code></label
                        >
                        <input
                          name="CustomerName"
                          class="form-control"
                          required
                        />
                        <div class="invalid-feedback">
                          Please enter customer name.
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6 form-group">
                          <label class="control-label">Email</label>
                          <input
                            name="Email"
                            type="email"
                            class="form-control"
                          />
                        </div>
                        <div class="col-md-6 form-group">
                          <label class="control-label"
                            >Phone Number <code>*</code></label
                          >
                          <input
                            name="Phone"
                            type="tel"
                            class="form-control"
                            required
                          />
                          <div class="invalid-feedback">
                            Please enter phone number.
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="control-label"
                          >Address <code>*</code></label
                        >
                        <textarea
                          name="Address"
                          class="form-control"
                          required
                        ></textarea>
                        <div class="invalid-feedback">
                          Please enter address.
                        </div>
                      </div>
                      <div class="form-group">
                        <button
                          class="btn btn-primary mr-1"
                          type="submit"
                          id="submitCustomer"
                        >
                          Save
                        </button>
                      </div>
                    </form>
                  </div>
                  <div
                    class="tab-pane fade"
                    id="customersearch"
                    role="tabpanel"
                    aria-labelledby="customersearch-tab"
                  >
                    <div class="form-group w-100">
                      <div class="input-group">
                        <input
                          type="text"
                          placeholder="Search by name or phone number"
                          id="customerSearchInput"
                          class="form-control"
                        />
                        <a
                          href="javascript:void(0);"
                          onclick="SearchCustomer();"
                          id="customerSearchBtn"
                          class="btn btn-primary m-0"
                          >Search</a
                        >
                      </div>
                    </div>
                    <div class="customers mt-4">
                      <div class="row g-2" id="customers">
                        <div
                          class="col-6 col-md-4 item"
                          data-id="1"
                          data-name="Cash Customer"
                          data-default="True"
                        >
                          <div class="card-box p-2 text-center">
                            <h2>Cash Customer</h2>
                            <h2>00000000000</h2>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Orders Model-->
        <div
          class="modal fade"
          id="OrderModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Running Orders</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body" style="min-height: 300px">
                <div class="orders" id="openedOrders"></div>
              </div>
            </div>
          </div>
        </div>

        <!--Modifier Model-->
        <div
          class="modal fade"
          id="ModifierModel"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
          data-bs-backdrop="static"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Select Modifiers</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row g-2" id="modifiers"></div>
              </div>
              <div class="modal-footer bg-whitesmoke br">
                <button
                  type="button"
                  onclick="SelectModifiers();"
                  class="btn btn-primary"
                >
                  Select
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>

        <!--Waiter Model-->
        <div class="modal fade" id="WaiterModel" data-bs-backdrop="static">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Select Waiter</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row g-3" id="waiters">
                  <div
                    class="col-6 col-md-4 item"
                    data-id="3"
                    data-uname="waiter"
                  >
                    <div class="card-box p-2 text-center">
                      <h2>Waiter</h2>
                      <p>&#64;waiter</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Delivery Man Model-->
        <div class="modal fade" id="DeliveryManModel" data-bs-backdrop="static">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modalTitle">Select Delivery Man</h5>
                <button
                  type="button"
                  class="btn btn-light"
                  data-dismiss="modal"
                >
                  <span aria-hidden="true">x</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row g-3" id="deliverymans">
                  <div
                    class="col-6 col-md-4 item"
                    data-id="4"
                    data-uname="deliveryman"
                  >
                    <div class="card-box p-2 text-center">
                      <h2>Delivery Man</h2>
                      <p>&#64;deliveryman</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/lib/jquery-confirm/jquery-confirm.min.js"></script>
    <script src="/lib/izitoast/js/iziToast.min.js"></script>
    <script src="/lib/cleave/cleave.min.js"></script>
    <script src="/lib/bootstrap/dist/js/bootstrap-select.min.js"></script>

    <script>
      const lang = {
        region: "en-US",
        success: "Success",
        error: "Error",
        warning: "Warning",
        noresult: "No Result Found",
      };

      const currencyformat = {
        position: "0",
        symbol: "$",
        decimalseparator: ".",
        groupseparator: ",",
      };

      const numberformat = {
        decimalseparator: ".",
        groupseparator: ",",
      };
    </script>
    <script src="/js/site.js?v=hO2SAolyLCJrx0HXjo18by3AJbcUF_MxSbbZ5qTzVpA"></script>

    <!-- Page Specific JS File -->

    <script src="/lib/signalr/dist/browser/signalr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.js"></script>
    <script>
      const orderTypes = [
        '<span class="badge badge-light m-1">None</span>',
        '<span class="badge badge-primary m-1">Dine In</span>',
        '<span class="badge badge-secondary m-1">Pick Up</span>',
        '<span class="badge badge-black m-1">Delivery</span>',
      ];
      const ostatus = [
        '<span class="badge badge-red m-1">Cancelled</span>',
        '<span class="badge badge-secondary m-1">In Progress</span>',
        '<span class="badge badge-black m-1">Cooked</span>',
      ];

      var connection = new signalR.HubConnectionBuilder()
        .withUrl("/notificationHub")
        .build();
      connection.on("OrderNotification", function (operation, orderId) {
        if (operation == "closed") {
          $("#openedOrder" + orderId).remove();
        } else {
          $.ajax({
            url: "/POS/GetRunningOrder",
            type: "GET",
            data: {
              Id: orderId,
            },
            dataType: "json",
            success: function (data) {
              if (data.status == "success") {
                var order = JSON.parse(data.order);
                let op = operation;
                DisplayOpenedOrder(order, op);
              } else {
                errorMessage(data.message);
              }
            },
            error: function (data) {
              if (data.status == 401) {
                window.location.href = "/Account/Login";
              } else if (data.status == 403) {
                errorMessage("Access denied.");
              } else {
                console.log(JSON.stringify(data));
              }
            },
          });
        }
      });

      connection
        .start()
        .then(function () {
          console.log("Connected to server successfully.");
          LoadAllOpenedOrders();
        })
        .catch(function (err) {
          console.log("Error while connecting with server.");
        });

      function LoadAllOpenedOrders() {
        $("#openedOrders").addClass("card-progress");
        $.ajax({
          url: "/POS/GetAllRunningOrder",
          type: "GET",
          dataType: "json",
          success: function (data) {
            if (data.status == "success") {
              var orders = JSON.parse(data.data);
              for (var i = 0; i < orders.length; i++) {
                DisplayOpenedOrder(orders[i], "created");
              }
            } else {
              errorMessage(data.message);
            }
          },
          error: function (data) {
            if (data.status == 401) {
              window.location.href = "/Account/Login";
            } else if (data.status == 403) {
              errorMessage("Access denied.");
            } else {
              console.log(JSON.stringify(data));
            }
          },
          complete: function () {
            $("#openedOrders").removeClass("card-progress");
          },
        });
      }

      function DisplayOpenedOrder(order, operation) {
        console.log(operation);
        var date = new Date(Date.parse(order.CreatedAt));
        var htmlText = "";
        htmlText += '<div class="d-flex align-items-center">';
        htmlText += "<h6>Order No. " + order.Id + "</h6>";
        htmlText +=
          '<p class="text-muted ms-auto">' + formatAMPM(date) + "</p></div>";

        if (order.OrderType == 1) {
          htmlText += '<div class="d-flex align-items-center">';
          htmlText += "<p><strong>Table</strong> " + order.TableName + "</p>";
          htmlText +=
            '<p class="ms-auto"><strong>Guest</strong> ' +
            order.Guests +
            "</p></div>";
        }
        htmlText += '<div class="d-flex align-items-center">';
        htmlText += "<p>" + ostatus[order.Status] + "</p>";
        htmlText +=
          '<p class="ms-auto"><strong>' +
          GetCurrency(getNumber(order.Total)) +
          "</strong>" +
          orderTypes[order.OrderType];
        htmlText += "</p></div>";

        if (!$("#openedOrder" + order.Id).length) {
          var html =
            '<div class="item" id="openedOrder' +
            order.Id +
            '" data-id="' +
            order.Id +
            '">' +
            htmlText +
            "</div>";
          $("#openedOrders").append(html);
        } else {
          $("#openedOrder" + order.Id).html(htmlText);
        }
      }
    </script>
    <script>
      var addAudio = new Audio("/sound/beep.mp3");
      var removeAudio = new Audio("/sound/trash.mp3");
      var foodGroups = [];
      var foodItems = [];
      var modifiers = [];

      var OrderId = 0;

      var TaxId = 0;
      var DiscountId = 0;
      var ChargeId = 0;
      /*
            Order Type
            0 None
            1 Dine In
            2 Pick Up
            3 Delivery
        */
      var OrderType = 0;
      var WaiterOrDriver = "";

      //Default table values
      var TableName = "";

      //Default customer values
      var CustomerId = 0;
      var CustomerName = "";

      // Order Detail Default Value
      var Note = "";
      var Guests = 1;
      var OrderStatus = 0;

      var cartItems = [];
      var selectedCartItemId = "";
      var cartid = 1;
      var tempModifiers = [];
      var TotalAmount = 0;
      var TotalTax = 0;
      var TotalSGST = 0;
      var TotalCGST = 0;
      var PaidAmount = 0;
      var DueAmount = 0;
      var SettleAmount = 0;
      var ExistingTotalAmount = 0;

      var TaxIsPercentage = true;
      var TaxIsIncluded = true;
      var TaxIsGST = true;
      var TaxIsDineIn = true;
      var TaxIsPickUp = true;
      var TaxIsDelivery = true;
      var TaxValue = 0;
      var TaxSValue = 0;
      var TaxCValue = 0;
      var DiscountIsPercentage = true;
      var DiscountIsDineIn = true;
      var DiscountIsPickUp = true;
      var DiscountIsDelivery = true;
      var DiscountValue = 0;
      var ChargeIsPercentage = false;
      var ChargeIsDineIn = true;
      var ChargeIsPickUp = true;
      var ChargeIsDelivery = true;
      var ChargeValue = 0;

      var SettingBillPreview = false;
      var SettingKotPreview = false;
      var SettingTokenPreview = false;

      var category = 0;

      GetData();
      function ReloadData() {
        localStorage.removeItem("posdata");
        window.location.reload(true);
      }
      function GetData() {
        $("body").addClass("card-progress");
        let data = localStorage.getItem("posdata");
        if (data != null) {
          var json = JSON.parse(data);
          LoadData(json);
          $("body").removeClass("card-progress");
        } else {
          $.ajax({
            url: "/POS/GetPOSData",
            type: "GET",
            dataType: "json",
            contentType: false,
            processData: false,
            success: function (data) {
              var str = JSON.stringify(data);
              localStorage.setItem("posdata", str);
              LoadData(data);
            },
            error: function (data) {
              if (data.status == 401) {
                window.location.href = "/Account/Login";
              } else if (data.status == 403) {
                errorMessage("Access denied.");
              } else {
                console.log(JSON.stringify(data));
              }
            },
            complete: function () {
              $("body").removeClass("card-progress");
            },
          });
        }
      }
      function LoadData(data) {
        foodGroups = JSON.parse(data.foodGroups);
        foodItems = JSON.parse(data.foodItems);
        modifiers = JSON.parse(data.modifiers);
        LoadFoodGroup();
        LoadModifiers();
        ResetControls();
      }
      function ResetControls() {
        OrderId = 0;
        TaxId = 0;
        DiscountId = 0;
        ChargeId = 0;
        OrderType = 0;
        TableName = "";
        WaiterOrDriver = "";
        Note = "";
        OrderStatus = 0;
        TotalAmount = 0;
        PaidAmount = 0;
        SettleAmount = 0;

        TaxIsPercentage = true;
        TaxIsIncluded = true;
        TaxIsGST = true;
        TaxIsDineIn = true;
        TaxIsPickUp = true;
        TaxIsDelivery = true;
        TaxValue = 0;
        TaxSValue = 0;
        TaxCValue = 0;
        DiscountIsPercentage = true;
        DiscountIsDineIn = true;
        DiscountIsPickUp = true;
        DiscountIsDelivery = true;
        DiscountValue = 0;
        ChargeIsPercentage = false;
        ChargeIsDineIn = true;
        ChargeIsPickUp = true;
        ChargeIsDelivery = true;
        ChargeValue = 0;

        category = 0;
        CustomerId = parseInt("1");
        CustomerName = "";

        SettingBillPreview = "True";
        SettingKotPreview = "True";
        SettingTokenPreview = "True";

        var taxelement = $("#taxes [data-default='True']");
        var discountelement = $("#discounts [data-default='True']");
        var chargeelement = $("#charges [data-default='True']");
        var customerelement = $("#customers [data-id='" + CustomerId + "']");

        if (taxelement.length) {
          TaxId = taxelement.data("id");
          TaxValue = getLocaleNumber(taxelement.data("value"));
          TaxSValue = getLocaleNumber(taxelement.data("svalue"));
          TaxCValue = getLocaleNumber(taxelement.data("cvalue"));
          TaxIsGST = taxelement.data("isgst") == "True" ? true : false;
          TaxIsIncluded =
            taxelement.data("isincluded") == "True" ? true : false;
          TaxIsDineIn = taxelement.data("isdinein") == "True" ? true : false;
          TaxIsPickUp = taxelement.data("ispickup") == "True" ? true : false;
          TaxIsDelivery =
            taxelement.data("isdelivery") == "True" ? true : false;
          TaxIsPercentage =
            taxelement.data("ispercentage") == "True" ? true : false;
        }

        if (discountelement.length) {
          DiscountId = discountelement.data("id");
          DiscountValue = getLocaleNumber(discountelement.data("value"));
          DiscountIsDineIn =
            discountelement.data("isdinein") == "True" ? true : false;
          DiscountIsPickUp =
            discountelement.data("ispickup") == "True" ? true : false;
          DiscountIsDelivery =
            discountelement.data("isdelivery") == "True" ? true : false;
          DiscountIsPercentage =
            discountelement.data("ispercentage") == "True" ? true : false;
        }

        if (chargeelement.length) {
          ChargeId = chargeelement.data("id");
          ChargeValue = getLocaleNumber(chargeelement.data("value"));
          ChargeIsDineIn =
            chargeelement.data("isdinein") == "True" ? true : false;
          ChargeIsPickUp =
            chargeelement.data("ispickup") == "True" ? true : false;
          ChargeIsDelivery =
            chargeelement.data("isdelivery") == "True" ? true : false;
          ChargeIsPercentage =
            chargeelement.data("ispercentage") == "True" ? true : false;
        }

        if (customerelement.length) {
          CustomerId = customerelement.data("id");
          CustomerName = customerelement.data("name").toString();
        }

        $("#waiters").find(".card-box").removeClass("active");
        $("#deliverymans").find(".card-box").removeClass("active");

        $("#d-OrderId").text("");
        $("#pickUpBtn").removeClass("active");
        $("#dineInBtn").removeClass("active");
        $("#deliveryBtn").removeClass("active");
        $("#d-OrderType").text("Select Order Type");
        $("#d-TableName").text("Select Table");
        $("#d-DeliveryMan").text("Select Driver");
        $("#d-Waiter").text("Select Waiter");
        $(".dineinOption").addClass("d-none");
        $(".deliveryOption").addClass("d-none");
        $(".waiterOption").addClass("d-none");

        $("#topBtns .item").each(function () {
          $(this).removeClass("disabled");
        });

        $("#splitBtn").addClass("disabled");
        $("#paymentBtn").addClass("disabled");
        $("#submitBtn span").text("Submit");

        $("#guestInput").val("1");
        $("#PaymentAmount").val("");
        $("#SettleAmount").val("");
        EnterGuests();

        cartItems = [];
        $("#cartItems").html("");
        tempModifiers = [];

        cartid = 1;
        OrderId = 0;

        SetTax();
        SetDiscount();
        SetCharge();
        SetCustomer();

        $("#cartActions a").each(function () {
          $(this).addClass("disabled");
        });
      }

      //Return Gross Value
      function GetGrossPrice(baseprice) {
        var GrossPrice = 0.0;
        var TaxPercent = 0;
        if (
          (OrderType == 1 && TaxIsDineIn == true) ||
          (OrderType == 2 && TaxIsPickUp == true) ||
          (OrderType == 3 && TaxIsDelivery == true)
        ) {
          if (TaxIsPercentage == true) {
            if (TaxIsIncluded == true) {
              if (TaxIsGST == true) {
                TaxPercent = TaxSValue + TaxCValue + 100;
                GrossPrice = baseprice * 100;
                GrossPrice = GrossPrice / TaxPercent;
              } else {
                TaxPercent = TaxValue + 100;
                GrossPrice = baseprice * 100;
                GrossPrice = GrossPrice / TaxPercent;
              }
            } else {
              GrossPrice = baseprice;
            }
          } else {
            GrossPrice = baseprice;
          }
        } else {
          GrossPrice = baseprice;
        }
        return GrossPrice;
      }
      // Tax
      function OpenTaxModel() {
        $("#TaxModel").modal("show");
      }
      function SetTax() {
        $("#taxes").find(".card-box").removeClass("active");
        $("#taxes [data-id='" + TaxId + "']")
          .find(".card-box")
          .addClass("active");

        if (TaxIsPercentage == true) {
          if (TaxIsGST == true) {
            $("#d-Tax").text(
              "SGST-" +
                getNumber(TaxSValue) +
                " % CGST-" +
                getNumber(TaxSValue) +
                " %"
            );
          } else {
            $("#d-Tax").text(getNumber(TaxValue) + " %");
          }
        } else {
          if (TaxIsGST == true) {
            $("#d-Tax").text(
              "SGST-" + getNumber(TaxSValue) + " CGST-" + getNumber(TaxSValue)
            );
          } else {
            $("#d-Tax").text(GetCurrency(getNumber(TaxValue)));
          }
        }
        CalculateTotal();
      }
      $("#taxes").on("click", "div.item", function () {
        $("#taxes").find(".card-box").removeClass("active");
        $(this).find(".card-box").addClass("active");
        TaxId = $(this).data("id");
        TaxValue = getLocaleNumber($(this).data("value"));
        TaxSValue = getLocaleNumber($(this).data("svalue"));
        TaxCValue = getLocaleNumber($(this).data("cvalue"));
        TaxIsGST = $(this).data("isgst") == "True" ? true : false;
        TaxIsIncluded = $(this).data("isincluded") == "True" ? true : false;
        TaxIsDineIn = $(this).data("isdinein") == "True" ? true : false;
        TaxIsPickUp = $(this).data("ispickup") == "True" ? true : false;
        TaxIsDelivery = $(this).data("isdelivery") == "True" ? true : false;
        TaxIsPercentage = $(this).data("ispercentage") == "True" ? true : false;
        SetTax();
        $("#TaxModel").modal("hide");
      });

      // Discount
      function OpenDiscountModel() {
        $("#DiscountModel").modal("show");
      }
      function SetDiscount() {
        $("#discounts").find(".card-box").removeClass("active");
        $("#discounts [data-id='" + DiscountId + "']")
          .find(".card-box")
          .addClass("active");
        if (DiscountIsPercentage == true) {
          $("#d-Discount").text(getNumber(DiscountValue) + " %");
        } else {
          $("#d-Discount").text(GetCurrency(getNumber(DiscountValue)));
        }
        CalculateTotal();
      }
      $("#discounts").on("click", "div.item", function () {
        DiscountId = $(this).data("id");
        DiscountValue = getLocaleNumber($(this).data("value"));
        DiscountIsPercentage =
          $(this).data("ispercentage") == "True" ? true : false;
        DiscountIsDineIn = $(this).data("isdinein") == "True" ? true : false;
        DiscountIsPickUp = $(this).data("ispickup") == "True" ? true : false;
        DiscountIsDelivery =
          $(this).data("isdelivery") == "True" ? true : false;
        SetDiscount();
        $("#DiscountModel").modal("hide");
      });

      // Charges
      function OpenChargeModel() {
        $("#ChargeModel").modal("show");
      }
      function SetCharge() {
        $("#charges").find(".card-box").removeClass("active");
        $("#charges [data-id='" + ChargeId + "']")
          .find(".card-box")
          .addClass("active");
        if (ChargeIsPercentage == true) {
          $("#d-Charge").text(getNumber(ChargeValue) + " %");
        } else {
          $("#d-Charge").text(GetCurrency(getNumber(ChargeValue)));
        }
        CalculateTotal();
      }
      $("#charges").on("click", "div.item", function () {
        ChargeId = $(this).data("id");
        ChargeValue = getLocaleNumber($(this).data("value"));
        ChargeIsPercentage =
          $(this).data("ispercentage") == "True" ? true : false;
        ChargeIsDineIn = $(this).data("isdinein") == "True" ? true : false;
        ChargeIsPickUp = $(this).data("ispickup") == "True" ? true : false;
        ChargeIsDelivery = $(this).data("isdelivery") == "True" ? true : false;
        SetCharge();
        $("#ChargeModel").modal("hide");
      });

      //Customer Operations
      function OpenCustomerModel() {
        $("#CustomerModel").modal("show");
      }
      function SearchCustomer() {
        $("#customers").html("");
        $("#customerSearchBtn").addClass("disabled btn-progress");
        var search = $("#customerSearchInput").val();
        jQuery.ajax({
          url: "/People/SearchCustomer",
          method: "GET",
          dataType: "json",
          data: {
            search: search,
          },
          success: function (data) {
            if (data.status == "success") {
              customers = JSON.parse(data.data);
              if (customers.length <= 0) {
              } else {
                for (var i = 0; i < customers.length; i++) {
                  DisplayCustomers(customers[i]);
                }
                SetCustomer();
              }
            } else {
              errorMessage(data.message);
            }
          },
          error: function (data) {
            if (data.status == 401) {
              window.location.href = "/Account/Login";
            } else if (data.status == 403) {
              errorMessage("Access denied.");
            } else {
              console.log(JSON.stringify(data));
            }
          },
          complete: function () {
            $("#customerSearchBtn").removeClass("disabled btn-progress");
          },
        });
      }
      function DisplayCustomers(item) {
        htmlText =
          '<div class="col-6 col-md-4 item" data-id="' +
          item.Id +
          '" data-name="' +
          item.CustomerName +
          '">';
        htmlText +=
          '<div class="card-box p-2 text-center"><h2>' +
          item.CustomerName +
          "</h2>";
        htmlText += "<h2>" + item.Phone + "</h2>";
        htmlText += "</div></div>";

        $("#customers").append(htmlText);
      }

      function SetCustomer() {
        $("#customers").find(".card-box").removeClass("active");
        $("#customers [data-id='" + CustomerId + "']")
          .find(".card-box")
          .addClass("active");
        $("#d-Customer").text(CustomerName);
      }

      $("#customers").on("click", "div.item", function () {
        CustomerId = $(this).data("id");
        CustomerName = $(this).data("name").toString();
        SetCustomer();
        $("#CustomerModel").modal("hide");
      });

      $("#customerfrm").submit(function (e) {
        e.preventDefault();
        var formData = new FormData(this);

        if (performValidation($("#customerfrm"))) {
          $("#submitCustomer").addClass("disabled btn-progress");
          $.ajax({
            url: "/People/AddCustomer",
            type: "POST",
            data: formData,
            dataType: "json",
            contentType: false,
            processData: false,
            success: function (data) {
              if (data.status == "success") {
                successMessage("Customer created successfully.");
                $("#customerfrm")[0].reset();
                var cus = JSON.parse(data.customer);
                CustomerId = cus.Id;
                CustomerName = cus.CustomerName;
                DisplayCustomers(cus);
                SetCustomer();
              } else {
                errorMessage(data.message);
              }
            },
            error: function (data) {
              if (data.status == 401) {
                window.location.href = "/Account/Login";
              } else if (data.status == 403) {
                errorMessage("Access denied.");
              } else {
                console.log(JSON.stringify(data));
              }
            },
            complete: function () {
              $("#submitCustomer").removeClass("disabled btn-progress");
              $("#customerfrm").removeClass("was-validated");
            },
          });
        }
      });

      // Order Type Operations
      function OpenTableModel() {
        $("#TableModel").modal("show");
        $("#tables").addClass("card-progress");
        $("#tables").html("");
        jQuery.ajax({
          url: "/Table/AvailableTables",
          method: "GET",
          dataType: "json",
          success: function (data) {
            if (data.status == "success") {
              tables = data.data;
              if (tables.length <= 0) {
                $("#tables").html(
                  '<h6 class="text-center mt-5">Table not available.</h3>'
                );
              } else {
                for (var i = 0; i < tables.length; i++) {
                  DisplayTable(tables[i]);
                }
              }
            } else {
              errorMessage(data.message);
            }
          },
          error: function (data) {
            if (data.status == 401) {
              window.location.href = "/Account/Login";
            } else if (data.status == 403) {
              errorMessage("Access denied.");
            } else {
              console.log(JSON.stringify(data));
            }
          },
          complete: function () {
            $("#tables").removeClass("card-progress");
          },
        });
      }
      function DisplayTable(item) {
        htmlText =
          '<div class="col-6 col-md-4 col-lg-3 mb-2 item" data-id="' +
          item.id +
          '" data-name="' +
          item.tableName +
          '">';
        htmlText += '<article class="product"><div class="product-header">';
        htmlText +=
          '<div class="image" style="background-image: url(&quot;/Media/TableImage?name=' +
          item.image +
          '&quot;);"></div></div>';
        htmlText +=
          '<div class="product-details"><div class="title text-center">';
        htmlText += "<h2>" + item.tableName + "</h2></div></div>";
        htmlText += "</article></div>";

        $("#tables").append(htmlText);
      }
      $("#tables").on("click", "div.item", function () {
        TableName = $(this).data("name").toString();
        SetDineInOrder();
        $("#TableModel").modal("hide");
      });
      function SetDineInOrder() {
        OrderType = 1;
        $("#d-TableName").text("Select Table");
        $("#d-OrderType").text("Dine In");
        $(".dineinOption").removeClass("d-none");
        $(".waiterOption").removeClass("d-none");
        $(".deliveryOption").addClass("d-none");
        $("#dineInBtn").addClass("active");
        $("#deliveryBtn").removeClass("active");
        $("#pickUpBtn").removeClass("active");

        if (TableName.length > 0) {
          $("#d-TableName").text(TableName);
        }
        CalculateTotal();
      }
      function SetPickUpOrder() {
        OrderType = 2;
        $("#d-OrderType").text("Pick Up");
        $(".dineinOption").addClass("d-none");
        $(".waiterOption").removeClass("d-none");
        $(".deliveryOption").addClass("d-none");

        $("#pickUpBtn").addClass("active");
        $("#dineInBtn").removeClass("active");
        $("#deliveryBtn").removeClass("active");
        CalculateTotal();
      }
      function SetDeliveryOrder() {
        OrderType = 3;
        $("#d-OrderType").text("Delivery");
        $(".dineinOption").addClass("d-none");
        $(".waiterOption").addClass("d-none");
        $(".deliveryOption").removeClass("d-none");

        $("#deliveryBtn").addClass("active");
        $("#pickUpBtn").removeClass("active");
        $("#dineInBtn").removeClass("active");
        CalculateTotal();
      }

      // Waiters & Drivers
      function OpenWaiterModel() {
        $("#WaiterModel").modal("show");
      }
      function OpenDeliveryManModel() {
        $("#DeliveryManModel").modal("show");
      }
      $("#waiters").on("click", "div.item", function () {
        $("#waiters").find(".card-box").removeClass("active");
        $(this).find(".card-box").addClass("active");
        WaiterOrDriver = $(this).data("uname").toString();
        $("#d-Waiter").text(WaiterOrDriver);
        $("#WaiterModel").modal("hide");
      });
      $("#deliverymans").on("click", "div.item", function () {
        $("#deliverymans").find(".card-box").removeClass("active");
        $(this).find(".card-box").addClass("active");
        WaiterOrDriver = $(this).data("uname").toString();
        $("#d-DeliveryMan").text(WaiterOrDriver);
        $("#DeliveryManModel").modal("hide");
      });

      //Order Note
      function OpenNoteModel() {
        $("#noteInput").val(Note);
        $("#NoteModel").modal("show");
      }
      function EnterNote() {
        Note = $("#noteInput").val();
        if ($("#NoteModel").hasClass("show")) $("#NoteModel").modal("hide");
      }

      // Guests
      var guestString = "";
      function OpenGuestModel() {
        $("#GuestModel").modal("show");
      }
      $("#guests").on("click", "div.item", function () {
        var value = $(this).data("value").toString();
        if (value == "x") {
          guestString = "";
        } else if (
          guestString == "0" &&
          value != numberformat.decimalseparator
        ) {
          guestString = value;
        } else if (
          guestString.includes(numberformat.decimalseparator) == true &&
          value == numberformat.decimalseparator
        ) {
          return;
        } else {
          guestString += value;
        }

        $("#guestInput").val(guestString);
      });
      function EnterGuests() {
        Guests = $("#guestInput").val();
        $("#d-Guest").text("Guest " + Guests);
        if ($("#GuestModel").hasClass("show")) {
          $("#GuestModel").modal("hide");
        }
      }

      // Products Operations
      function SearchItems() {
        $("#products").html("");
        var q = $("#searchInput").val().toLowerCase();
        if (q == "") {
          LoadFoodItems(category);
        } else {
          for (var i = 0; i < foodItems.length; i++) {
            var ItemName = foodItems[i].ItemName.toLowerCase();
            if (ItemName.match(q)) {
              DisplayFoodItem(foodItems[i]);
            }
          }
        }
      }
      function LoadFoodGroup() {
        $("#categories").html("");
        for (var i = 0; i < foodGroups.length; i++) {
          DisplayFoodGroup(foodGroups[i]);
        }

        $("#products").html(
          '<h6 class="note text-center mt-5">Select Food Group</h3>'
        );

        $("#categories").owlCarousel({
          loop: true,
          nav: true,
          navText: [
            "<i class='fa fa-angle-left'></i>",
            "<i class='fa fa-angle-right'></i>",
          ],
        });
      }
      function DisplayFoodGroup(item) {
        htmlText =
          '<div class="item-box" data-id="' +
          item.Id +
          '" data-name="' +
          item.GroupName +
          '" data-type="group">';
        htmlText +=
          '<img src="/Media/FoodGroupImage?name=' + item.Image + '" alt="">';
        htmlText += '<h5 class="title mb-0">' + item.GroupName + "</h5>";
        htmlText += "</div>";

        $("#categories").append(htmlText);
      }
      function LoadFoodItems(groupId) {
        $("#products").html("");
        var count = 0;
        category = groupId;
        for (var i = 0; i < foodItems.length; i++) {
          if (foodItems[i].GroupId == groupId) {
            DisplayFoodItem(foodItems[i]);
            count++;
          }
        }

        if (count == 0) {
          $("#products").html(
            '<h6 class="note text-center mt-5">Food Items not found.</h3>'
          );
        }
      }
      function DisplayFoodItem(item) {
        htmlText =
          '<div class="product-single" data-id="' +
          item.Id +
          '" data-name="' +
          item.ItemName +
          '" data-price="' +
          item.Price +
          '"><div class="position-relative h-100">';
        htmlText +=
          '<img class="image" src="/Media/ProductImage?name=' +
          item.Image +
          '">';
        htmlText +=
          '<div class="px-2 pt-2 pb-1 details"<h6 class="product-title mb-0">' +
          item.ItemName +
          "</h6>";
        htmlText +=
          '<p class="badge-right m-0"><span class="badge badge-primary">' +
          GetCurrency(getNumber(item.Price)) +
          "</span></p></div></div></div>";

        $("#products").append(htmlText);
      }

      $("#categories").on("click", ".item-box", function () {
        var id = $(this).data("id");
        $(".categories .item-box").removeClass("active");
        $(this).addClass("active");
        LoadFoodItems(id);
      });

      // Cart Operations
      $("#products").on("click", "div.product-single", function () {
        if (OrderType != 0) {
          var itemType = $(this).data("type");
          var id = $(this).data("id");
          var name = $(this).data("name");
          var price = $(this).data("price");
          AddItemInCart(0, id, name, price, 1, true);
        } else {
          errorMessage("Please select order type.");
        }
      });
      function AddItemInCart(detid, id, name, price, quantity, isnew) {
        var item = [];
        cartid++;

        item["Id"] = cartid;
        item["DetailId"] = detid;
        item["ItemId"] = id;
        item["ItemName"] = name;
        // item['ItemPrice'] = price;
        item["ItemPrice"] = GetGrossPrice(price);
        item["ItemModifierTotal"] = 0.0;
        item["ItemQuantity"] = quantity;
        item["modifiers"] = [];
        item["isnew"] = isnew;
        addAudio.play();
        cartItems.push(item);
        DisplayCartItem(item);
        MarkCartItemSelected("cart" + cartid);
      }
      function DisplayCartItem(item) {
        var itemTotal = item.ItemPrice + item.ItemModifierTotal;
        itemTotal *= item.ItemQuantity;

        htmlText =
          '<tr class="item" id="cart' +
          item["Id"] +
          '" data-id="' +
          item["ItemId"] +
          '"><td><div>' +
          item["ItemName"] +
          '</div><div class="modifiers">';
        htmlText +=
          '<td class="quantity text-center">' +
          getNumber(item["ItemQuantity"]) +
          "</td>";
        htmlText +=
          '<td class="price text-end">' +
          GetCurrency(getNumber(itemTotal.toFixed(2))) +
          "</td></tr>";

        $("#cartItems").append(htmlText);
        CalculateTotal();
      }
      function MarkCartItemSelected(id) {
        if (IsItemSelected()) $("#" + selectedCartItemId).removeClass("active");

        selectedCartItemId = id;
        $("#" + selectedCartItemId).addClass("active");

        $("#cartActions a").each(function () {
          $(this).removeClass("disabled");
        });

        var objIndex = cartItems.findIndex(
          (obj) => obj.Id == id.replace("cart", "")
        );
        if (objIndex != -1) {
          tempModifiers = cartItems[objIndex].modifiers;
        }
      }
      $("#cartItems").on("click", "tr.item", function () {
        var id = $(this).attr("id");
        MarkCartItemSelected(id);
      });
      function IsItemSelected() {
        if (selectedCartItemId == "") {
          return false;
        }
        return true;
      }
      function IncreaseQuantity() {
        if (!IsItemSelected()) return;

        var split = selectedCartItemId.match(/(\d+)/);
        id = split[0];
        for (var i = 0; i < cartItems.length; i++) {
          if (cartItems[i].Id == id && cartItems[i].isnew == true) {
            cartItems[i].ItemQuantity += 1;
            var itemTotal =
              cartItems[i].ItemPrice + cartItems[i].ItemModifierTotal;
            itemTotal *= cartItems[i].ItemQuantity;

            $("#" + selectedCartItemId + " td.quantity").text(
              getNumber(cartItems[i].ItemQuantity)
            );
            $("#" + selectedCartItemId + " td.price").text(
              GetCurrency(getNumber(itemTotal.toFixed(2)))
            );
            addAudio.play();
          }
        }
        CalculateTotal();
      }
      function DecreaseQuantity() {
        if (!IsItemSelected()) return;

        var split = selectedCartItemId.match(/(\d+)/);
        id = split[0];
        for (var i = 0; i < cartItems.length; i++) {
          if (cartItems[i].Id == id && cartItems[i].isnew == true) {
            if (cartItems[i].ItemQuantity > 1) {
              cartItems[i].ItemQuantity -= 1;
              var itemTotal =
                cartItems[i].ItemPrice + cartItems[i].ItemModifierTotal;
              itemTotal *= cartItems[i].ItemQuantity;

              $("#" + selectedCartItemId + " td.quantity").text(
                getNumber(cartItems[i].ItemQuantity)
              );
              $("#" + selectedCartItemId + " td.price").text(
                GetCurrency(getNumber(itemTotal.toFixed(2)))
              );
              removeAudio.play();
            }
          }
        }
        CalculateTotal();
      }
      //Delete Cart Item
      function DeleteItem() {
        if (IsItemSelected()) {
          var split = selectedCartItemId.match(/(\d+)/);
          id = split[0];
          cartItems = cartItems.filter((obj) => obj.Id != id);
          $("#" + selectedCartItemId).remove();
          CalculateTotal();
          selectedCartItemId = "";
          $("#cartActions a").each(function () {
            $(this).addClass("disabled");
          });
          removeAudio.play();
          CalculateTotal();
        }
      }

      //Apply Modifers
      function LoadModifiers() {
        var htmlText = "";
        for (var i = 0; i < modifiers.length; i++) {
          htmlText +=
            '<div class="col-6 col-md-4 item" id="modifier' +
            modifiers[i].Id +
            '" data-name="' +
            modifiers[i].Title +
            '" data-price="' +
            modifiers[i].Price +
            '">';
          htmlText +=
            '<div class="card-box p-2 text-center"><h2>' +
            modifiers[i].Title +
            "</h2>";
          htmlText +=
            "<h2>" + GetCurrency(getNumber(modifiers[i].Price)) + "</h2>";
          htmlText += "</div></div>";
        }
        $("#modifiers").html(htmlText);
      }
      function OpenModifierModel() {
        if (IsItemSelected()) {
          $("#modifiers div").each(function () {
            $(this).children().removeClass("active");
          });
          // tempModifiers = [];
          for (var i = 0; i < tempModifiers.length; i++) {
            $("#modifier" + tempModifiers[i].Id + " .card-box").addClass(
              "active"
            );
          }
          $("#ModifierModel").modal("show");
        }
      }
      $("#modifiers").on("click", "div.item", function () {
        var item = [];
        item["Id"] = StrToNum($(this).attr("id"));
        item["Name"] = $(this).data("name").toString();
        item["Price"] = Number($(this).data("price"));

        var isExisting = false;
        for (var i = 0; i < tempModifiers.length; i++) {
          if (tempModifiers[i].Id == item["Id"]) {
            tempModifiers = tempModifiers.filter((obj) => obj.Id != item["Id"]);
            $("#modifier" + item["Id"] + " .card-box").removeClass("active");
            isExisting = true;
          }
        }
        if (!isExisting) {
          tempModifiers.push(item);
          $("#modifier" + item["Id"] + " .card-box").addClass("active");
        }
      });

      function SelectModifiers() {
        if (!IsItemSelected()) return;

        var split = selectedCartItemId.match(/(\d+)/);
        id = split[0];
        for (var i = 0; i < cartItems.length; i++) {
          if (cartItems[i].Id == id && cartItems[i].isnew == true) {
            var modifiersTotal = 0.0;
            var htmlText = "";
            for (var j = 0; j < tempModifiers.length; j++) {
              // modifiersTotal += tempModifiers[j].Price;
              modifiersTotal += GetGrossPrice(tempModifiers[j].Price);
              htmlText +=
                '<span class="badge badge-primary m-1">' +
                tempModifiers[j].Name +
                "</span>";
            }
            cartItems[i].ItemModifierTotal = modifiersTotal;
            cartItems[i].modifiers = tempModifiers;
            $("#" + selectedCartItemId + " td div.modifiers").html(htmlText);

            var itemTotal =
              cartItems[i].ItemPrice + cartItems[i].ItemModifierTotal;
            itemTotal *= cartItems[i].ItemQuantity;
            $("#" + selectedCartItemId + " td.price").text(
              GetCurrency(getNumber(itemTotal.toFixed(2)))
            );
            if ($("#ModifierModel").hasClass("show"))
              $("#ModifierModel").modal("hide");
          }
        }
        CalculateTotal();
      }

      function LoadOrderModifiers() {
        if (!IsItemSelected()) return;

        var split = selectedCartItemId.match(/(\d+)/);
        id = split[0];
        for (var i = 0; i < cartItems.length; i++) {
          if (cartItems[i].Id == id) {
            var modifiersTotal = 0.0;
            var htmlText = "";
            for (var j = 0; j < tempModifiers.length; j++) {
              // modifiersTotal += tempModifiers[j].Price;
              modifiersTotal += GetGrossPrice(tempModifiers[j].Price);
              htmlText +=
                '<span class="badge badge-primary m-1">' +
                tempModifiers[j].Name +
                "</span>";
            }
            cartItems[i].ItemModifierTotal = modifiersTotal;
            cartItems[i].modifiers = tempModifiers;
            $("#" + selectedCartItemId + " td div.modifiers").html(htmlText);

            var itemTotal =
              cartItems[i].ItemPrice + cartItems[i].ItemModifierTotal;
            itemTotal *= cartItems[i].ItemQuantity;
            $("#" + selectedCartItemId + " td.price").text(
              GetCurrency(getNumber(itemTotal.toFixed(2)))
            );
            if ($("#ModifierModel").hasClass("show"))
              $("#ModifierModel").modal("hide");
          }
        }
        CalculateTotal();
      }

      //Orders
      function OpenOrderModel() {
        $("#OrderModel").modal("show");
      }

      $("#openedOrders").on("click", "div.item", function () {
        $("#OrderModel").modal("hide");
        Id = $(this).data("id");
        GetOpenedOrder(Id);
      });

      function GetOpenedOrder(Id) {
        $("body").addClass("card-progress");
        jQuery.ajax({
          url: "/POS/GetRunningOrderDetail",
          method: "GET",
          dataType: "json",
          data: {
            Id: Id,
          },
          success: function (data) {
            if (data.status == "success") {
              order = JSON.parse(data.order);
              LoadOpenedOrder(order);
            } else {
              errorMessage(data.message);
            }
          },
          error: function (data) {
            if (data.status == 401) {
              window.location.href = "/Account/Login";
            } else if (data.status == 403) {
              errorMessage("Access denied.");
            } else {
              console.log(JSON.stringify(data));
            }
          },
          complete: function () {
            $("body").removeClass("card-progress");
          },
        });
      }
      function LoadOpenedOrder(order) {
        $("body").addClass("card-progress");
        ResetControls();

        OrderId = order.Id;
        OrderType = order.OrderType;
        TaxId = order.TaxId;
        TaxValue = order.Tax.Value;
        TaxSValue = order.Tax.SValue;
        TaxCValue = order.Tax.CValue;
        TaxIsGST = order.Tax.IsGST;
        TaxIsIncluded = order.Tax.IsIncluded;
        TaxIsDineIn = order.Tax.IsDineIn;
        TaxIsPickUp = order.Tax.IsPickUp;
        TaxIsDelivery = order.Tax.IsDelivery;
        TaxIsPercentage = order.Tax.IsPercentage;

        DiscountId = order.DiscountId;
        DiscountValue = order.Discount.Value;
        DiscountIsPercentage = order.Discount.IsPercentage;
        DiscountIsDineIn = order.Discount.IsDineIn;
        DiscountIsPickUp = order.Discount.IsPickUp;
        DiscountIsDelivery = order.Discount.IsDelivery;

        ChargeId = order.ChargesId;
        ChargeValue = order.Charges.Value;
        ChargeIsPercentage = order.Charges.IsPercentage;
        ChargeIsDineIn = order.Charges.IsDineIn;
        ChargeIsPickUp = order.Charges.IsPickUp;
        ChargeIsDelivery = order.Charges.IsDelivery;

        CustomerId = order.CustomerId;
        CustomerName = order.Customer.CustomerName;
        WaiterOrDriver = order.WaiterOrDriver;
        OrderStatus = order.Status;
        TotalAmount = order.Total;
        PaidAmount = order.PaidAmount;
        ExistingTotalAmount = order.Total;

        SetTax();
        SetDiscount();
        SetCharge();
        SetCustomer();

        if (order.OrderType == 1) {
          TableName = order.TableName;
          SetDineInOrder();
          $("#d-Waiter").text(
            WaiterOrDriver != "" ? WaiterOrDriver : "Select Waiter"
          );
          $("#guestInput").val(order.Guests);
          EnterGuests();
        } else if (order.OrderType == 2) {
          SetPickUpOrder();
          $("#d-Waiter").text(
            WaiterOrDriver != "" ? WaiterOrDriver : "Select Waiter"
          );
        } else if (order.OrderType == 3) {
          SetDeliveryOrder();
          $("#d-DeliveryMan").text(
            WaiterOrDriver != "" ? WaiterOrDriver : "Select Driver"
          );
        }

        if (order.Status == 2) {
          $("#paymentBtn").removeClass("disabled");
          $("#splitBtn").removeClass("disabled");
          $("#splitBillItems").html(splitItems);
        }

        $("#d-OrderId").text(OrderId);
        $("#noteInput").val(order.Note);
        EnterNote();

        $("#submitBtn span").text("Update");

        var splitItems = "";
        var items = order.RunningOrderDetails;

        for (var i = 0; i < items.length; i++) {
          if (items[i].IsDeleted == false) {
            splitItems +=
              '<tr><td><input type="checkbox" name="SplitOrderDetailId[]" value="' +
              items[i].Id +
              '" class="form-check-input text-center"></td>';
            splitItems += "<td><div>" + items[i].Item.ItemName + "</div><div>";
            AddItemInCart(
              items[i].Id,
              items[i].Item.Id,
              items[i].Item.ItemName,
              items[i].Item.Price,
              items[i].Quantity,
              false
            );
            var modifiers = items[i].RunningOrderItemModifiers;
            for (var j = 0; j < modifiers.length; j++) {
              splitItems +=
                '<span class="badge badge-primary m-1">' +
                modifiers[j].Modifier.Title +
                "</span>";
              var mod = [];
              mod["Id"] = modifiers[j].Modifier.Id;
              mod["Name"] = modifiers[j].Modifier.Title;
              mod["Price"] = modifiers[j].Modifier.Price;
              // mod['Price'] = GetGrossPrice(modifiers[j].Modifier.Price);
              tempModifiers.push(mod);
            }
            splitItems += "</div></td>";
            splitItems += "<td>" + getNumber(items[i].Quantity) + "</td>";
            splitItems += "<td>" + getNumber(items[i].Total) + "</td></tr>";

            LoadOrderModifiers();
            tempModifiers = [];
          }
        }

        CalculateTotal();
        $("body").removeClass("card-progress");
      }

      // Split Bill
      function OpenSplitBillModel() {
        $("#SplitBillModel").modal("show");
      }

      function SplitBill() {
        var data = new FormData();
        data.append("OrderId", OrderId);
        var ids = document.getElementsByName("SplitOrderDetailId[]");
        var valid = false;
        for (var i = 0; i < ids.length; i++) {
          if (ids[i].checked) {
            data.append("OrderDetailIds[]", ids[i].value);
            valid = true;
          }
        }

        if (valid) {
          $("#splitSubmitBtn").addClass("disabled btn-progress");
          $.ajax({
            url: "/POS/SplitOrder",
            type: "POST",
            dataType: "json",
            contentType: false,
            processData: false,
            data: data,
            error: function (data) {
              if (data.status == 401) {
                window.location.href = "/Account/Login";
              } else if (data.status == 403) {
                errorMessage("Access denied.");
              } else {
                console.log(JSON.stringify(data));
              }
            },
            success: function (data) {
              if (data.status == "success") {
                successMessage("Order splitted successfully.");
                $("#SplitBillModel").modal("hide");
                GetOpenedOrder(data.id);
              } else {
                errorMessage(data.message);
              }
            },
            complete: function () {
              $("#splitSubmitBtn").removeClass("disabled btn-progress");
            },
          });
        } else {
          errorMessage("Please select items for split.");
        }
      }

      //Payment
      function OpenPaymentModel() {
        $("#PaymentAmount").val("");
        $(".d-OrderTotalAmount").text(
          GetCurrency(getNumber(ExistingTotalAmount.toFixed(2)))
        );
        $(".d-OrderDueAmount").text(
          GetCurrency(getNumber(ExistingTotalAmount.toFixed(2)))
        );
        DueAmount = getNumber(ExistingTotalAmount.toFixed(2));
        $("#PaymentModel").modal("show");
      }

      function PaymentAmountChange() {
        PaidAmount = getLocaleNumber($("#PaymentAmount").val());
        SettleAmount = getLocaleNumber($("#SettleAmount").val());
        DueAmount = ExistingTotalAmount - (PaidAmount + SettleAmount);
        $(".d-OrderDueAmount").text(
          GetCurrency(getNumber(DueAmount.toFixed(2)))
        );
      }
      function SettleAmountChange() {
        PaidAmount = getLocaleNumber($("#PaymentAmount").val());
        SettleAmount = getLocaleNumber($("#SettleAmount").val());
        DueAmount = ExistingTotalAmount - (PaidAmount + SettleAmount);
        $(".d-OrderDueAmount").text(
          GetCurrency(getNumber(DueAmount.toFixed(2)))
        );
      }
      function PickDueAmount() {
        $("#PaymentAmount").val(getNumber(ExistingTotalAmount.toFixed(2)));
        PaymentAmountChange();
      }
      function PickSettleAmount() {
        PaidAmount = getLocaleNumber($("#PaymentAmount").val());
        var SettleAmount = ExistingTotalAmount - PaidAmount;
        $("#SettleAmount").val(getNumber(SettleAmount.toFixed(2)));
        SettleAmountChange();
      }
      $("#amounts").on("click", "div.item", function () {
        var value = $(this).data("value").toString();
        var paymentString = $("#PaymentAmount").val();

        if (value == "x") {
          paymentString = "";
        } else if (
          paymentString == "0" &&
          value != numberformat.decimalseparator
        ) {
          paymentString = value;
        } else if (
          paymentString.includes(numberformat.decimalseparator) == true &&
          value == numberformat.decimalseparator
        ) {
          return;
        } else {
          paymentString += value;
        }

        $("#PaymentAmount").val(paymentString);
        $("#SettleAmount").val("");
        PaymentAmountChange();
      });

      $("#amountsPlus").on("click", "div.item", function () {
        var value = $(this).data("value");
        var paymentString = $("#PaymentAmount").val();
        paymentString =
          paymentString == numberformat.decimalseparator ? "0" : paymentString;
        if (value == "total") paymentString = TotalAmount;
        else
          paymentString =
            getLocaleNumber(paymentString) + getLocaleNumber(value);

        $("#PaymentAmount").val(getNumber(paymentString));
        $("#SettleAmount").val("");
        PaymentAmountChange();
      });

      function CloseOrder() {
        var alertmsg = "";
        if (DueAmount != 0) {
          alertmsg =
            "<br><h2>with due amount.</h2><h4>" +
            DueAmount.toFixed(2) +
            "</h4>";
        }
        $.alert({
          title: "Close Order?",
          content: "Are you sure want to close order." + alertmsg,
          rtl: isRTL(),
          theme: "modern",
          buttons: {
            confirm: {
              text: '<i class="fa fa-check"></i> Close Order',
              btnClass: "btn btn-primary",
              action: function (btn) {
                var self = this;
                var pMethod = $("#PaymentMethod").val();
                var pAmount = Number(
                  getLocaleNumber($("#PaymentAmount").val())
                );
                var sAmount = Number(getLocaleNumber($("#SettleAmount").val()));
                if (pMethod == "") {
                  errorMessage("Please select payment method.");
                } else if (
                  pAmount + sAmount < 0 ||
                  pAmount + sAmount > ExistingTotalAmount
                ) {
                  errorMessage("Enter valid amount.");
                } else {
                  self.showLoading(true);
                  $.ajax({
                    url: "/POS/CloseOrder",
                    type: "POST",
                    dataType: "json",
                    data: {
                      Id: OrderId,
                      PaymentMethod: pMethod,
                      PaidAmount: getNumber(pAmount),
                      SettleAmount: getNumber(sAmount),
                    },
                    error: function (data) {
                      if (data.status == 401) {
                        window.location.href = "/Account/Login";
                      } else if (data.status == 403) {
                        errorMessage("Access denied.");
                      } else {
                        console.log(JSON.stringify(data));
                      }
                    },
                    success: function (data) {
                      if (data.status == "success") {
                        successMessage("Order closed successfully.");
                        $("#PaymentModel").modal("hide");
                        ResetControls();
                        if (SettingBillPreview == "True") {
                          PrintFinalInvoice(data.id);
                        }
                      } else {
                        errorMessage(data.message);
                      }
                    },
                    complete: function () {
                      self.close();
                    },
                  });
                }
                return false;
              },
            },
            cancel: {
              text: "Cancel",
              action: function () {},
            },
          },
        });
      }

      //Calculate Total
      function CalculateTotal() {
        if (cartItems == null) {
          $("#d-SubTotal").text(GetCurrency(getNumber(0.0)));
          $(".d-Total").text(GetCurrency(getNumber(0.0)));
          return;
        }

        var subTotal = 0.0;
        var total = 0.0;
        var amount = 0.0;
        var tvalue = 0.0;
        var sgst = 0.0;
        var cgst = 0.0;

        for (var i = 0; i < cartItems.length; i++) {
          var itemTotal =
            cartItems[i].ItemPrice + cartItems[i].ItemModifierTotal;
          itemTotal *= cartItems[i].ItemQuantity;
          subTotal += itemTotal;
        }
        amount = subTotal;

        //apply discount
        if (
          (OrderType == 1 && DiscountIsDineIn == true) ||
          (OrderType == 2 && DiscountIsPickUp == true) ||
          (OrderType == 3 && DiscountIsDelivery == true)
        ) {
          if (DiscountIsPercentage == true) {
            var perc = DiscountValue / 100;
            amount = amount - amount * perc;
          } else {
            amount -= DiscountValue;
          }
        }

        //apply charges
        if (
          (OrderType == 1 && ChargeIsDineIn == true) ||
          (OrderType == 2 && ChargeIsPickUp == true) ||
          (OrderType == 3 && ChargeIsDelivery == true)
        ) {
          if (ChargeIsPercentage == true) {
            var perc = ChargeValue / 100;
            amount = amount + amount * perc;
          } else {
            amount += ChargeValue;
          }
        }

        //apply tax
        if (
          (OrderType == 1 && TaxIsDineIn == true) ||
          (OrderType == 2 && TaxIsPickUp == true) ||
          (OrderType == 3 && TaxIsDelivery == true)
        ) {
          if (TaxIsPercentage == true) {
            if (TaxIsGST == true) {
              var perc = (TaxSValue + TaxCValue) / 100;
              amount = amount + amount * perc;
            } else {
              var perc = TaxValue / 100;
              amount = amount + amount * perc;
            }
          } else {
            if (TaxIsGST == true) {
              amount += TaxSValue + TaxCValue;
            } else {
              amount += TaxValue;
            }
          }
        }

        TotalAmount = amount.toFixed(2);
        var due = TotalAmount - PaidAmount;
        $("#d-SubTotal").text(GetCurrency(getNumber(subTotal.toFixed(2))));
        $(".d-Total").text(GetCurrency(getNumber(amount.toFixed(2))));
      }

      function SubmitOrder(submittype) {
        if (cartItems.length <= 0) {
          errorMessage("Please add item in cart.");
        } else if (OrderType <= 0) {
          errorMessage("Please select order type.");
        } else {
          var url =
            OrderId > 0 ? "/POS/UpdateRunningOrder" : "/POS/SaveRunningOrder";
          $("#submitBtn").addClass("disabled btn-progress");
          var data = new FormData();
          for (var i = 0; i < cartItems.length; i++) {
            if (cartItems[i].isnew == true) {
              data.append("ItemIds[]", cartItems[i].ItemId);
              data.append("Quantities[]", cartItems[i].ItemQuantity);
              var modifiers = [];
              for (var j = 0; j < cartItems[i].modifiers.length; j++) {
                modifiers.push(cartItems[i].modifiers[j].Id);
              }
              var str = modifiers.toString();
              if (str.length > 0) {
                data.append("Modifiers[]", str);
              } else {
                data.append("Modifiers[]", "");
              }
            } else {
              data.append("DetailIds[]", cartItems[i].DetailId);
            }
          }
          data.append("OrderId", OrderId);
          data.append("OrderType", OrderType);
          data.append("Note", Note);
          data.append("CustomerId", CustomerId);
          data.append("TableName", TableName);
          data.append("TaxId", TaxId);
          data.append("DiscountId", DiscountId);
          data.append("ChargeId", ChargeId);
          data.append("Guests", Guests);
          data.append("WaiterOrDriver", WaiterOrDriver);
          data.append("SubmitType", submittype);

          $.ajax({
            url: url,
            type: "POST",
            data: data,
            dataType: "json",
            contentType: false,
            processData: false,
            success: function (data) {
              if (data.status == "success") {
                successMessage("Order submitted successfully.");
                if (OrderId == 0) {
                  ResetControls();
                } else {
                  GetOpenedOrder(OrderId);
                }
                if (SettingBillPreview == "True" && parseInt(submittype) == 3) {
                  PrintPendingInvoice(data.id);
                }
                if (SettingKotPreview == "True" && parseInt(submittype) == 2) {
                  PrintKotPending(data.id);
                }
                if (
                  SettingTokenPreview == "True" &&
                  parseInt(submittype) == 2 &&
                  OrderType == 2
                ) {
                  PrintToken(data.id);
                }
              } else {
                errorMessage(data.message);
              }
            },
            error: function (data) {
              if (data.status == 401) {
                window.location.href = "/Account/Login";
              } else if (data.status == 403) {
                errorMessage("Access denied.");
              } else {
                console.log(JSON.stringify(data));
              }
            },
            complete: function () {
              $("#submitBtn").removeClass("disabled btn-progress");
            },
          });
        }
      }

      function PrintFinalInvoice(id) {
        var strWindowFeatures =
          "location=yes,height=570,width=520,scrollbars=yes,status=yes";
        var link = "/POS/SendInvoiceEmail/" + id;
        var win = window.open(link, "_blank", strWindowFeatures);
      }

      function PrintKotPending(id) {
        var strWindowFeatures =
          "location=yes,height=570,width=520,scrollbars=yes,status=yes";
        var link = "/POS/PrintKitchenOrder/" + id;
        var win = window.open(link, "_blank", strWindowFeatures);
      }

      function PrintPendingInvoice(id) {
        var strWindowFeatures =
          "location=yes,height=570,width=520,scrollbars=yes,status=yes";
        var link = "/POS/PrintRunningInvoice/" + id;
        var win = window.open(link, "_blank", strWindowFeatures);
      }

      function PrintToken(id) {
        var strWindowFeatures =
          "location=yes,height=570,width=520,scrollbars=yes,status=yes";
        var link = "/POS/PrintToken/" + id;
        var win = window.open(link, "_blank", strWindowFeatures);
      }
    </script>
  </body>
</html>
